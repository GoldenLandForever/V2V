basePath: /
definitions:
  task.I2VTask:
    properties:
      created_at:
        type: integer
      image_url:
        type: string
      index:
        type: integer
      priority:
        type: integer
      prompt:
        type: string
      task_id:
        type: integer
      user_id:
        type: integer
    type: object
  task.LoraTextRequest:
    properties:
      created_at:
        type: integer
      priority:
        type: integer
      result:
        type: string
      task_id:
        type: integer
      user_id:
        type: integer
    type: object
  task.T2IRequest:
    properties:
      created_at:
        type: integer
      priority:
        type: integer
      task_id:
        type: integer
      text:
        type: string
      user_id:
        type: integer
    type: object
  task.V2TRequest:
    properties:
      created_at:
        type: integer
      priority:
        type: integer
      user_id:
        type: integer
      video_url:
        type: string
    type: object
host: 198.168.1.34:8080
info:
  contact:
    name: API Support
    url: http://www.swagger.io/support
  description: 视频处理相关 API 接口文档
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: V2V API
  version: "1.0"
paths:
  /FFmpeg/{task_id}:
    get:
      consumes:
      - application/json
      description: 处理 FFmpeg 相关的视频处理任务 （在一切视频都生成后输入任务I2V的ID进行拼接）
      parameters:
      - description: Task ID
        in: path
        name: task_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: '{"message": "..."}'
          schema:
            additionalProperties:
              type: string
            type: object
      summary: FFmpeg 处理器
      tags:
      - FFmpeg
  /I2V:
    post:
      consumes:
      - application/json
      description: 接收参考图片和文本提示词，创建一个新的 I2V 任务并返回任务 ID （输入从T2I获得的任务I2V的ID）
      parameters:
      - description: I2V 任务请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/task.I2VTask'
      produces:
      - application/json
      responses:
        "202":
          description: '{"task_id": 123456, "status": "task submitted"}'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: invalid request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: server error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: 提交图片生成视频任务
      tags:
      - I2V
  /I2V/{task_id}:
    get:
      consumes:
      - application/json
      description: 通过任务 ID 获取 I2V 任务（输入任务I2V的ID可以查询到任务完成情况）
      parameters:
      - description: Task ID
        in: path
        name: task_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: '{"video_url": "..."}'
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: server error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: 获取 I2V 任务结果
      tags:
      - I2V
  /I2VCallback/{task_id}:
    post:
      consumes:
      - application/json
      description: 处理来自视频生成服务的任务完成回调
      parameters:
      - description: Task ID
        in: path
        name: task_id
        required: true
        type: string
      - description: Callback Data
        in: body
        name: data
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: '{"status": "success"}'
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: invalid request
          schema:
            additionalProperties:
              type: string
            type: object
      summary: I2V 任务回调处理
      tags:
      - I2V
  /T2I:
    post:
      consumes:
      - application/json
      description: 接收任务ID，创建一个新的 T2I 任务并返回任务 ID（输入从V2T得到的任务ID）
      parameters:
      - description: T2I 任务请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/task.T2IRequest'
      produces:
      - application/json
      responses:
        "202":
          description: '{"task_id": 123456, "status": "task submitted"}'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: invalid request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: server error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: 提交文本生成图片任务
      tags:
      - T2I
  /V2T:
    post:
      consumes:
      - application/json
      description: 接收视频URL，创建一个新的 V2T 任务并返回任务 ID （目前没有登陆注册，所以就只要求输入视频链接）
      parameters:
      - description: V2T 任务请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/task.V2TRequest'
      produces:
      - application/json
      responses:
        "202":
          description: '{"task_id": "123456", "status": "submitted"}'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: invalid request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: server error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: 提交视频转文字任务
      tags:
      - V2T
  /V2T/{task_id}:
    get:
      consumes:
      - application/json
      description: 通过任务 ID 获取 V2T 任务的当前状态和结果 （输入任务ID即可）
      parameters:
      - description: Task ID
        in: path
        name: task_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: '{"task_id": 123456, "status": "completed", "result": "..."}'
          schema:
            additionalProperties: true
            type: object
        "404":
          description: task not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: server error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: 获取 V2T 任务结果
      tags:
      - V2T
  /V2T/LoraText:
    post:
      consumes:
      - application/json
      description: 为指定任务更新 Lora 相关的文本提示词 （同时输入任务ID与更新后的提示词即可）
      parameters:
      - description: Lora 文本更新请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/task.LoraTextRequest'
      produces:
      - application/json
      responses:
        "200":
          description: '{"task_id": 123456, "status": "task updated"}'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: invalid request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: server error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: 更新任务 Lora 文本
      tags:
      - V2T
schemes:
- http
- https
swagger: "2.0"
